{"version":3,"file":"test.js","mappings":"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","sources":["webpack:///./src/drodDowncurrenElement.ts","webpack:///./src/fugure/index.ts","webpack:///./src/fugure/l.ts","webpack:///./src/fugure/line.ts","webpack:///./src/fugure/square.ts","webpack:///./src/fugure/t.ts","webpack:///./src/globalVars.ts","webpack:///./src/grid/gameArea.ts","webpack:///./src/grid/index.ts","webpack:///./src/handleKeyEvents.ts","webpack:///./src/movements/down/down.ts","webpack:///./src/movements/down/getNextElementToPrintDown.ts","webpack:///./src/movements/left/moveLeft.ts","webpack:///./src/movements/left/newElementLeft.ts","webpack:///./src/movements/right/moveRigth.ts","webpack:///./src/movements/right/newElementRigth.ts","webpack:///./src/movements/rotate/index.ts","webpack:///./src/observeRows.ts","webpack:///./src/observerPause.ts","webpack:///./src/removeRowFixed.ts","webpack:///./src/test/l/t.ts","webpack:///./src/test/line/line.ts","webpack:///./src/test/removeLines/removeLines.ts","webpack:///./src/test/t/t.ts","webpack:///webpack/bootstrap","webpack:///./src/test/index.ts"],"sourcesContent":["import {observeRows} from \"./observeRows\";\r\nimport {newElement} from \"./movements/down/newElement\";\r\nimport {down} from \"./movements/down/down\";\r\nimport {getRandonElement} from \"./fugure\";\r\nimport {globalVars} from \"./globalVars\";\r\n\r\nexport function drodDowncurrenElement() {\r\n    if (globalVars.pause) {\r\n        return;\r\n    }\r\n\r\n    observeRows();\r\n\r\n    let collectNewElements: newElement[] = [];\r\n    collectNewElements = down(collectNewElements, globalVars.currenActiveELement);\r\n\r\n    if (collectNewElements.some(element => element[0] == null) ||\r\n        collectNewElements.some(element => element[0].classList.contains('boxFixed'))\r\n    ) {\r\n        globalVars.currenActiveELement.forEach(element => {\r\n            element.classList.add('boxFixed');\r\n        });\r\n\r\n        let {elements: element, paint} = getRandonElement();\r\n        globalVars.currenActiveELement = element;\r\n        paint(element);\r\n\r\n        return;\r\n    }\r\n\r\n    globalVars.currenActiveELement = collectNewElements.map(element => element[0]);\r\n\r\n    for (let i = 0; i < collectNewElements.length; i++) {\r\n        let element = collectNewElements[i];\r\n        element[0].classList.add(element[1]);\r\n    }\r\n}","import {generateSquare} from \"./square\";\r\nimport {generateLine} from \"./line\";\r\nimport {generateT} from \"./t\";\r\nimport {generateL} from \"./l\";\r\n\r\nexport type figure = {\r\n    elements: HTMLElement[],\r\n    paint: (elements: HTMLElement[]) => void\r\n}\r\n\r\nconst intPosition = {x: 7, y: 0};\r\nconst figures = [  generateSquare, generateLine, generateT, generateL];\r\n//const figures = [  generateT];\r\n\r\n\r\nexport function getRandonElement(): figure {\r\n    const random = Math.floor(Math.random() * figures.length);\r\n    return figures[random](intPosition.x, intPosition.y)\r\n\r\n}\r\n","import {figure} from \"./index\";\r\n\r\n\r\nexport function generateL(x : number , y : number): figure {\r\n    let elements: HTMLElement[] = [];\r\n    // si x = 7 y = 0\r\n\r\n    // 0_6\r\n    let box1 = document.getElementById('col' + '_' + (y) + '_' + (x - 1));\r\n    // 0_7\r\n    let box2 = document.getElementById('col' + '_' + (y) + '_' + (x));\r\n    // 0_8\r\n    let box3 = document.getElementById('col' + '_' + (y) + '_' + (x + 1));\r\n    // 1_8\r\n    let box4 = document.getElementById('col' + '_' + (1 + y) + '_' + (x + 1));\r\n    elements.push(box1, box2, box3, box4);\r\n\r\n    return {elements, paint}\r\n}\r\n\r\nexport function paint(square: HTMLElement[]) {\r\n    square.forEach(element => {\r\n        element.classList.add('l');\r\n    });\r\n}","import {figure} from \"./index\";\r\n\r\nexport function generateLine(x, y) : figure {\r\n    let line = [];\r\n    let box1 = document.getElementById('col' + '_' + (y) + '_' + x);\r\n    let box2 = document.getElementById('col' + '_' + (y + 1) + '_' + x);\r\n    let box3 = document.getElementById('col' + '_' + (y + 2) + '_' + x);\r\n    let box4 = document.getElementById('col' + '_' + (y + 3) + '_' + x);\r\n    line.push(box1, box2, box3, box4);\r\n    return {elements: line, paint: paintLine };\r\n}\r\n\r\nexport function paintLine(line: HTMLElement[]) {\r\n    line.forEach(element => {\r\n        element.classList.add('line');\r\n    });\r\n}","import {figure} from \"./index\";\r\n\r\nexport function generateSquare(x : number , y : number): figure {\r\n    let elements: HTMLElement[] = [];\r\n    let box1 = document.getElementById('col' + '_' + (y) + '_' + x);\r\n    let box2 = document.getElementById('col' + '_' + (y) + '_' + (x + 1));\r\n    let box3 = document.getElementById('col' + '_' + (1 + y) + '_' + (x));\r\n    let box4 = document.getElementById('col' + '_' + (1 + y) + '_' + (x + 1));\r\n    elements.push(box1, box2, box3, box4);\r\n\r\n    return {elements, paint}\r\n}\r\n\r\nexport function paint(square: HTMLElement[]) {\r\n    square.forEach(element => {\r\n        element.classList.add('square');\r\n    });\r\n}","import {figure} from \"./index\";\r\n\r\n\r\nexport function generateT(x: number, y: number): figure {\r\n    let elements: HTMLElement[] = [];\r\n\r\n    let box1 = document.getElementById('col' + '_' + (y) + '_' + (x - 1));\r\n    let box2 = document.getElementById('col' + '_' + (y) + '_' + (x));\r\n    let box3 = document.getElementById('col' + '_' + (y) + '_' + (x + 1));\r\n    let box4 = document.getElementById('col' + '_' + (1 + y) + '_' + (x));\r\n    elements.push(box1, box2, box3, box4);\r\n\r\n    return {elements, paint}\r\n}\r\n\r\nexport function paint(square: HTMLElement[]) {\r\n    square.forEach(element => {\r\n        element.classList.add('t');\r\n    });\r\n}","export  let globalVars = {\r\n    pause: false,\r\n    sizeGameAreaX: 15,\r\n    sizeGameAreaY: 20,\r\n    currenActiveELement: [] as HTMLElement[]\r\n};","export const initGrid = (sizeGameAreaX: number, sizeGameAreaY: number) => {\r\n    let gameArea = document.createElement('div');\r\n    gameArea.classList.add('container');\r\n    for (let x = 0; x < sizeGameAreaY; x++) {\r\n        let divRow = document.createElement('div');\r\n        divRow.classList.add('row');\r\n        divRow.id = 'row' + x;\r\n        for (let y = 0; y < sizeGameAreaX; y++) {\r\n            let divCol = document.createElement('div');\r\n            divCol.classList.add('col');\r\n\r\n            divCol.id = 'col' + '_' + x + '_' + y;\r\n            divRow.appendChild(divCol);\r\n        }\r\n        gameArea.appendChild(divRow);\r\n    }\r\n    document.body.appendChild(gameArea);\r\n}","import {initGrid} from \"./gameArea\";\r\n\r\nexport {initGrid}","import {moveLeft} from \"./movements/left/moveLeft\";\r\nimport {moveRight} from \"./movements/right/moveRigth\";\r\nimport {rotateFigure} from \"./movements/rotate\";\r\nimport {drodDowncurrenElement} from \"./drodDowncurrenElement\";\r\nimport {globalVars} from \"./globalVars\";\r\n\r\nexport function handleKeyEvents(): void {\r\n    document.addEventListener('keydown', function (event) {\r\n        if (event.code === 'ArrowLeft') {\r\n            globalVars.currenActiveELement = moveLeft(globalVars.currenActiveELement);\r\n        } else if (event.code === 'ArrowRight') {\r\n            globalVars.currenActiveELement = moveRight(globalVars.currenActiveELement);\r\n        } else if (event.code === 'ArrowDown') {\r\n            drodDowncurrenElement();\r\n        } else if (event.code === 'Space') {\r\n            if (globalVars.currenActiveELement[0].classList.contains('boxFixed')) {\r\n                return globalVars.currenActiveELement;\r\n            }\r\n            globalVars.currenActiveELement = rotateFigure(globalVars.currenActiveELement);\r\n        }\r\n    });\r\n}","import {getNextElementToPrintDown} from \"./getNextElementToPrintDown\";\r\nimport {newElement} from \"./newElement\";\r\n\r\nexport function down(collectNewElements: newElement[], currenActiveELement: HTMLElement[]): newElement[] {\r\n    for (let i = 0; i < currenActiveELement.length; i++) {\r\n        let element = currenActiveELement[i];\r\n        let {type, nextElement} = getNextElementToPrintDown(element);\r\n\r\n        let newelement: newElement = [document.getElementById(nextElement), type];\r\n        collectNewElements.push(newelement);\r\n        element.classList.remove(type);\r\n    }\r\n    return collectNewElements;\r\n}","export function getNextElementToPrintDown(element: HTMLElement) {\r\n    let box = element.id\r\n    let type = element.classList[1];\r\n    let boxX = parseInt(box.split('_')[2]);\r\n    let boxY = parseInt(box.split('_')[1]);\r\n    let nextElement = 'col' + '_' + (boxY + 1) + '_' + boxX;\r\n    return {type, nextElement};\r\n}","import { newElementLeft } from \"./newElementLeft\";\r\n\r\nexport function moveLeft(currentActiveElements: HTMLElement[]) {\r\n    const newElements = getNewElements(currentActiveElements);\r\n\r\n    if (shouldAddClass(newElements)) {\r\n        addClassToElements(currentActiveElements, newElements[0][1]);\r\n        return currentActiveElements;\r\n    }\r\n\r\n    currentActiveElements = getSuggestedElements(newElements);\r\n    addClassToElements(currentActiveElements, newElements[0][1]);\r\n\r\n    return currentActiveElements;\r\n}\r\n\r\nfunction getNewElements(currentActiveElements: HTMLElement[]) {\r\n    return newElementLeft([], currentActiveElements);\r\n}\r\n\r\nfunction shouldAddClass(newElements: any[]) {\r\n    const suggestedElements = newElements.map(element => element[0]);\r\n    return suggestedElements.some(element => element == null || element.classList.contains('boxFixed'));\r\n}\r\n\r\nfunction addClassToElements(elements: HTMLElement[], className: string) {\r\n    elements.forEach(element => {\r\n        element.classList.add(className);\r\n    });\r\n}\r\n\r\nfunction getSuggestedElements(newElements: any[]) {\r\n    return newElements.map(element => element[0]);\r\n}\r\n","import {newElement} from \"../down/newElement\";\r\n\r\nexport function getNextElementToPrintLeft(element: HTMLElement) {\r\n    let box = element.id\r\n    let type = element.classList[1];\r\n    let boxX = parseInt(box.split('_')[2]);\r\n    let boxY = parseInt(box.split('_')[1]);\r\n    let nextElement = 'col' + '_' + boxY + '_' + (boxX - 1);\r\n    return {type, nextElement};\r\n}\r\n\r\nexport function newElementLeft(collectNewElements: newElement[], currenActiveELement: HTMLElement[]): newElement[] {\r\n    for (let i = 0; i < currenActiveELement.length; i++) {\r\n        let element = currenActiveELement[i];\r\n        let {type, nextElement} = getNextElementToPrintLeft(element);\r\n\r\n        let newelement: newElement = [document.getElementById(nextElement), type];\r\n        collectNewElements.push(newelement);\r\n\r\n        element.classList.remove(type);\r\n    }\r\n    return collectNewElements;\r\n}","import { newElementRight } from \"./newElementRigth\";\r\n\r\nexport function moveRight(currentActiveElements: HTMLElement[]) {\r\n    const newElements = getNewElements(currentActiveElements);\r\n\r\n    if (shouldAddClass(newElements)) {\r\n        addClassToElements(currentActiveElements, newElements[0][1]);\r\n        return currentActiveElements;\r\n    }\r\n\r\n    currentActiveElements = getSuggestedElements(newElements);\r\n    addClassToElements(currentActiveElements, newElements[0][1]);\r\n\r\n    return currentActiveElements;\r\n}\r\n\r\nfunction getNewElements(currentActiveElements: HTMLElement[]) {\r\n    return newElementRight([], currentActiveElements);\r\n}\r\n\r\nfunction shouldAddClass(newElements: any[]) {\r\n    const suggestedElements = newElements.map(element => element[0]);\r\n    return suggestedElements.some(element => element == null || element.classList.contains('boxFixed'));\r\n}\r\n\r\nfunction addClassToElements(elements: HTMLElement[], className: string) {\r\n    elements.forEach(element => {\r\n        element.classList.add(className);\r\n    });\r\n}\r\n\r\nfunction getSuggestedElements(newElements: any[]) {\r\n    return newElements.map(element => element[0]);\r\n}\r\n","import {newElement} from \"../down/newElement\";\r\n\r\nexport function getNextElementToPrintRight(element: HTMLElement) {\r\n    let box = element.id;\r\n    let type = element.classList[1];\r\n    let boxX = parseInt(box.split('_')[2]);\r\n    let boxY = parseInt(box.split('_')[1]);\r\n    let nextElement = 'col' + '_' + boxY + '_' + (boxX + 1);\r\n    return { type, nextElement };\r\n}\r\n\r\nexport function newElementRight(collectNewElements: newElement[], currenActiveELement: HTMLElement[]): newElement[] {\r\n    for (let i = 0; i < currenActiveELement.length; i++) {\r\n        let element = currenActiveELement[i];\r\n        let { type, nextElement } = getNextElementToPrintRight(element);\r\n\r\n        let newelement: newElement = [document.getElementById(nextElement), type];\r\n        collectNewElements.push(newelement);\r\n\r\n        element.classList.remove(type);\r\n    }\r\n    return collectNewElements;\r\n}","export function isValidRotation(current: HTMLElement[], newFigures: HTMLElement[]): boolean {\r\n    return newFigures.every(figure => figure !== null && !figure.classList.contains('boxFixed'));\r\n}\r\n\r\nfunction toggleFigureClass(figures: HTMLElement[], type: string, add: boolean) {\r\n    const verb = add ? 'add' : 'remove';\r\n    figures.forEach((figure) => figure.classList[verb](type));\r\n}\r\n\r\nfunction getIdCoordinates(id: string): [number, number] {\r\n    const parts = id.split('_');\r\n    return [parseInt(parts[1]), parseInt(parts[2])];\r\n}\r\n\r\nfunction getFigureById(y: number, x: number) {\r\n    return document.getElementById('col' + '_' + y + '_' + x);\r\n}\r\n\r\nexport function rotateFigure(figures: HTMLElement[]): HTMLElement[] {\r\n    const type = figures[0].classList[1];\r\n    const nextFigures = figures.map(figure => {\r\n        const [y, x] = getIdCoordinates(figure.id);\r\n        return {y: y, x: x};\r\n    });\r\n\r\n    let newFigures: HTMLElement[] = [];\r\n    if (type === 'line') {\r\n        if (nextFigures[0].x === nextFigures[1].x) {\r\n            newFigures = [1, 0, -1, -2].map(offset => getFigureById(nextFigures[1].y, nextFigures[1].x + offset));\r\n        } else {\r\n            newFigures = [-1, 0, 1, 2].map(offset => getFigureById(nextFigures[1].y + offset, nextFigures[1].x));\r\n        }\r\n    } else if (type === 't') {\r\n        let pivot = {y: nextFigures[1].y, x: nextFigures[1].x};\r\n        newFigures = nextFigures.map((figure) => {\r\n            const newY = pivot.y + (figure.x - pivot.x);\r\n            const newX = pivot.x - (figure.y - pivot.y);\r\n            return getFigureById(newY, newX);\r\n        });\r\n    } else if (type === 'l') {\r\n        let pivot = {y: nextFigures[1].y, x: nextFigures[1].x};\r\n        newFigures = nextFigures.map((figure) => {\r\n            const newY = pivot.y + (figure.x - pivot.x);\r\n            const newX = pivot.x - (figure.y - pivot.y);\r\n            return getFigureById(newY, newX);\r\n        });\r\n    }\r\n\r\n    if (!isValidRotation(figures, newFigures)) {\r\n        return figures;\r\n    }\r\n\r\n    toggleFigureClass(figures, type, false);\r\n    toggleFigureClass(newFigures, type, true);\r\n\r\n    return newFigures;\r\n}","import {removeRowFixed} from \"./removeRowFixed\";\r\nimport {globalVars} from \"./globalVars\";\r\n\r\ninterface CustomNode extends ChildNode, ParentNode {\r\n    getElementsByClassName(className: string): any[];\r\n}\r\n\r\nfunction isRowFullyFixed(row: CustomNode): boolean {\r\n    const childNodesLength = row.childNodes.length;\r\n    const fixedElementsLength = row.getElementsByClassName('boxFixed').length;\r\n\r\n    return childNodesLength === fixedElementsLength;\r\n}\r\n\r\nexport function observeRows(): void {\r\n    const container = (\r\n        document.getElementsByClassName('container')[0] as unknown as CustomNode\r\n    ).childNodes;\r\n\r\n    let removedRows = 0;\r\n    container.forEach((item: CustomNode, key) => {\r\n        if (isRowFullyFixed(item)) {\r\n            removeRowFixed(key);\r\n            removedRows++;\r\n        }\r\n    });\r\n\r\n    if (removedRows == 0) {\r\n        return;\r\n    }\r\n\r\n    for (let i = 0; i < removedRows; i++) {\r\n        const boxFixed = document.getElementsByClassName('boxFixed');\r\n        for (let i = boxFixed.length - 1; i >= 0; i--) {\r\n            const item = boxFixed[i];\r\n            const [col, row] = item.id.split('_').slice(1);\r\n            if (Number(row) > globalVars.sizeGameAreaY - 1) {\r\n                continue;\r\n            }\r\n\r\n            const elementBelow = document.getElementById(`col_${Number(col) + 1}_${Number(row)}`);\r\n            console.log(elementBelow);\r\n            console.log(`col_${Number(col) + 1}_${Number(row)}`);\r\n\r\n            if (elementBelow.classList.contains('boxFixed')) {\r\n                continue;\r\n            }\r\n\r\n            elementBelow.classList.add('boxFixed');\r\n            item.classList.remove('boxFixed');\r\n        }\r\n    }\r\n}","import {globalVars} from \"./globalVars\";\r\n\r\n\r\nexport function observerPause() {\r\n    document.getElementById('pause').addEventListener('click', function () {\r\n        if (globalVars.pause) {\r\n            globalVars.pause = false;\r\n            document.getElementById('pause').innerHTML = 'Pause';\r\n        } else {\r\n            globalVars.pause = true;\r\n            document.getElementById('pause').innerHTML = 'Play';\r\n        }\r\n    });\r\n}","interface CustomNode extends ChildNode, ParentNode {\r\n    getElementsByClassName(className: string): any[];\r\n\r\n    classList: DOMTokenList;\r\n}\r\n\r\nfunction removeRowFixed(index: number): void {\r\n    const containerNode = document.getElementsByClassName('container')[0] as unknown as CustomNode;\r\n    const targetNode = containerNode.childNodes[index] as unknown as CustomNode;\r\n\r\n    targetNode.childNodes.forEach((item) => {\r\n        const itemNode = item as unknown as CustomNode;\r\n        itemNode.classList.remove('boxFixed');\r\n    });\r\n}\r\n\r\nexport {removeRowFixed};","import {globalVars} from \"../../globalVars\";\r\nimport {generateL} from \"../../fugure/l\";\r\n\r\n\r\nconst testL = () => {\r\n    const x = Math.floor(globalVars.sizeGameAreaX / 2);\r\n    const y = Math.floor(globalVars.sizeGameAreaY / 2);\r\n    let {elements: currenActiveELement, paint} = generateL(x, y);\r\n    globalVars.currenActiveELement = currenActiveELement;\r\n    paint(currenActiveELement);\r\n}\r\n\r\nexport {testL};","import {generateLine} from \"../../fugure/line\";\r\nimport {globalVars} from \"../../globalVars\";\r\n\r\nconst testLine = () => {\r\n    const x = Math.floor(globalVars.sizeGameAreaX / 2);\r\n    const y = Math.floor(globalVars.sizeGameAreaY / 2);\r\n\r\n    let {elements: currenActiveELement, paint} = generateLine(x, y);\r\n\r\n    globalVars.currenActiveELement = currenActiveELement;\r\n    paint(currenActiveELement);\r\n}\r\n\r\n\r\nexport {testLine};\r\n\r\n\r\n","import {globalVars} from \"../../globalVars\";\r\nimport {observeRows} from \"../../observeRows\";\r\n\r\nconst removeLinesTest = () => {\r\n    const processRow = (rowIndex: number, adjustment: number) => {\r\n        const rowChildren = document.getElementsByClassName('row')[rowIndex].childNodes;\r\n        const midPoint = globalVars.sizeGameAreaX / 2;\r\n        rowChildren.forEach((x: any, key: number) => {\r\n            if (key < (midPoint - adjustment) || (midPoint + adjustment) < key) {\r\n                x[\"classList\"].add('boxFixed');\r\n            }\r\n        });\r\n    }\r\n\r\n    processRow(17, 2);\r\n    processRow(16, 3);\r\n    processRow(16, 4);\r\n    processRow(18, 0);\r\n    processRow(19, 0);\r\n\r\n    setTimeout(observeRows, 2000 )\r\n\r\n}\r\n\r\nexport {removeLinesTest}","import {globalVars} from \"../../globalVars\";\r\nimport {generateT} from \"../../fugure/t\";\r\n\r\n\r\nconst testT = () => {\r\n    const x = Math.floor(globalVars.sizeGameAreaX / 2);\r\n    const y = Math.floor(globalVars.sizeGameAreaY / 2);\r\n    let {elements: currenActiveELement, paint} = generateT(x, y);\r\n    globalVars.currenActiveELement = currenActiveELement;\r\n    paint(currenActiveELement);\r\n}\r\n\r\nexport {testT};","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","import {testLine} from \"./line/line\";\r\nimport {initGrid} from \"../grid\";\r\nimport {globalVars} from \"../globalVars\";\r\nimport {handleKeyEvents} from \"../handleKeyEvents\";\r\nimport {observerPause} from \"../observerPause\";\r\nimport {testT} from \"./t/t\";\r\nimport {testL} from \"./l/t\";\r\nimport {removeLinesTest} from \"./removeLines/removeLines\";\r\n\r\ninitGrid(globalVars.sizeGameAreaX, globalVars.sizeGameAreaY);\r\nhandleKeyEvents();\r\nobserverPause();\r\n\r\nlet button = document.getElementById('start');\r\n\r\nbutton.addEventListener('click', () => {\r\n    let select = document.getElementById('selectTest') as HTMLSelectElement;\r\n\r\n    let value = select.value;\r\n    switch (value) {\r\n        case 'line':\r\n            testLine();\r\n            break;\r\n        case 't':\r\n            testT();\r\n            break;\r\n        case 'l':\r\n            testL();\r\n            break;\r\n        case 'removeLinesTest':\r\n            removeLinesTest();\r\n            break;\r\n\r\n    }\r\n});"],"names":["globalVars","pause","observeRows","collectNewElements","down","currenActiveELement","some","element","classList","contains","forEach","add","elements","paint","getRandonElement","map","i","length","figures","generateSquare","generateLine","generateT","generateL","random","Math","floor","square","x","y","box1","document","getElementById","box2","box3","box4","push","paintLine","line","sizeGameAreaX","sizeGameAreaY","initGrid","gameArea","createElement","divRow","id","divCol","appendChild","body","addEventListener","event","code","moveLeft","moveRight","drodDowncurrenElement","rotateFigure","type","nextElement","getNextElementToPrintDown","newelement","remove","box","boxX","parseInt","split","addClassToElements","className","currentActiveElements","newElements","newElementLeft","getNewElements","shouldAddClass","getSuggestedElements","getNextElementToPrintLeft","newElementRight","getNextElementToPrintRight","isValidRotation","current","newFigures","every","figure","toggleFigureClass","verb","getFigureById","nextFigures","parts","getIdCoordinates","offset","pivot","container","getElementsByClassName","childNodes","removedRows","item","key","row","removeRowFixed","boxFixed","col","slice","Number","elementBelow","console","log","innerHTML","index","testL","testLine","removeLinesTest","processRow","rowIndex","adjustment","rowChildren","midPoint","setTimeout","testT","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","handleKeyEvents","observerPause","value"],"sourceRoot":""}